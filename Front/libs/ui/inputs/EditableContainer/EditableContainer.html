<div class="w-full mb-3 border rounded-lg overflow-hidden shadow-sm">
  <div class="flex items-center justify-between px-3 py-2 bg-gray-50 border-b">
    <span class="text-sm font-medium text-gray-700">{{ title }}</span>
    <div class="flex items-center gap-2">
      @if (isEditing) {
        <button type="button" (click)="onSave()" class="inline-flex items-center gap-2 text-xs font-semibold text-white bg-green-600 hover:bg-green-700 py-1 px-2 rounded-md">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="m4.5 12.75 6 6 9-13.5"/></svg>
          Sauvegarder
        </button>
        <button type="button" (click)="cancelEditing()" class="text-xs text-gray-600 hover:text-gray-800 px-2 py-1 rounded-md">Annuler</button>
      } @else {
        <button type="button" (click)="enableEditing()" class="inline-flex items-center gap-2 text-xs font-semibold text-blue-600 hover:text-blue-800 py-1 px-2 rounded-md">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M..."/></svg>
          Ã‰diter
        </button>
      }
      <button type="button" (click)="onDelete()" class="text-xs text-gray-400 hover:text-red-600 p-1 rounded-md hover:bg-red-50" title="Supprimer">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M..."/></svg>
      </button>
    </div>
  </div>
  <div class="p-3 bg-white">
    @if (isEditing) {
      <ng-container *ngTemplateOutlet="editTemplate"></ng-container>
    } @else {
      <ng-container *ngTemplateOutlet="viewTemplate"></ng-container>
    }
  </div>
</div>
